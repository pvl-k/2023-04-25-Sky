## Схема БД-источника

![Схема БД-источника](DB_schema.png)


# Выбор методологии хранилища
При выполнении данного тестового задания для выбора методологии DWH рассматривались классические подходы Б. Инмона и Р. Кимбалла.
## Методология Инмона, 
на мой взгляд, обладает следующими преимуществами:
+ третья нормальная форма (3NF) позволяет снизить затраты бизнеса на эксплуатацию хранилища данных в части используемого дискового пространства. На больших объемах данных нельзя игнорировать данный факт при выборе методологии;
+ простота переноса данных (построения дата-пайплайнов и процессов ETL) из транзакционных баз данных, так как данные в транзакционных БД, скорее всего, тоже нормализованы;

## Методология Кимбалла 
противопоставляется предыдущей и характеризуется следующими преимуществами:
+ относительные простота построения и низкие затраты на внедрение;
+ ориентированность на бизнес-процессы;
+ б*о*льший уровень детализации данных в витринах (вплоть до отдельных транзакций);

## Но т.к. методологии Инмона пресущи такие недостатки, как:
- трудоемкость процесса проектирования хранилища;
- большие сроки процесса построения хранилища;
- отсутствие гибкости при эксплуатации;
## А также, 
учитывая, что проектирование трехслойной архитектуры по Инмону требует значительного количества времени, с целью разнообразия решения тестового задания и чтобы ER-схема значительнее отличалась от ER-схемы хранилища (в т.ч. и для более интересных ETL процессов), то в рамках текущего тестового задания остановимся на методологии Р. Кимбалла и построим хранилище на базе одной денормализованной таблицы.

# Выбор СУБД для хранилища
В качестве базы данных для хранилища выберем колочно-ориентированную СУБД ClickHouse, т.к. это достаточно быстрая аналитическая база, использование которой доступно как в облаке (например, Yandex Cloud или ClickHouse Cloud на основе AWS), так и On Premise - это добавляет универсальности к такому решению. 
А, учитывая, что в вашем стеке присутствует DataLens (указан в нескольких вакансиях), то использование ClickHouse выглядит в данном случае достаточно логичным для хранения исторических аналитических данных с целью BI и т.п.

## NB! Графическое отображение схемы не отражает того, что таблица Lessons создается в СУБД ClickHouse (на типы данных на схеме обращать внимание не нужно, использованные типы данных есть в SQL-скрипте в отдельной файле - ответе на задание 4) ##

![Схема хранилища](DWH_schema.png)


